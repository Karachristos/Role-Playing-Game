# Lesson: Digital & Serious Games

### First and Last Name: Νικόλας Καραχρήστος	
### University Registration Number: dpsd18043
### GitHub Personal Profile: https://github.com/Karachristos
### Digital & Serious Games Personal Repository: https://karachristos.github.io/Role-Playing-Game/

# Introduction

Εργασία εξαμήνου για το μάθημα "Ψηφιακά παιχνίδια και παιγνιώδης μάθηση".

Εξάμηνο: 9o

Διδάσκων: Αλέξανδρος Μερκούρης

# Summary

Δημιουργία 2d top down role playing παιχνιδιού με χρήση unity.
Το παιχνίδι βασίζεται στο template/course της unity ονόματι ruby's adventure. 
https://learn.unity.com/project/ruby-s-2d-rpg

Dungeon Dwarf

Πρόκειται για παιχνίδι χωρίς πίστες όπου η ιστορία θα εξηγείται από NPCs.
Το exploration θα είναι σημαντικό κομμάτι του καθώς ο παίκτης θα μπορεί να επιλέξει εκείνος τη διαδρομή που θα ακολουθήσει. Γι' αυτό το λόγο δεν θα υπάρχουν πίστες.

*plot ως τώρα*

Ο παίκτης ξεκινάει τη περιπέτεια του σε ένα ανοικτό κελί ενός μπουντρουμιού. 
Συνειδητοποιεί πως μέσα στο μπουντρούμι τριγυρνούν οπλοισμένοι ποντικοί. Ωστόσο δεν είναι μόνος. Υπάρχουν χαρακτήρες οι οποίοι είναι διατεθειμένοι να του δώσουν απαντήσεις.
Σκοπός του είναι βρεί και να σκοτώσει το επιθετικό τέρας που έχει κάνει τη φωλιά του μέσα στο μπουντρούμι.


# 1st Deliverable

Δημιουργία πρώτου χάρτη και διακόσμηση του με διάφορα objects.

Aντικατάσταση της Ruby με κατάλληλο για το plot playable χαρακτήρα (ο οποίος ίσως να αλλάξει στη συνέχεια).
Ο χαρακτήρας μπορεί να κινείται ελεύθερα στο χάρτη.

Ο χάρτης και ο χαρακτήρας δημιουργήθηκαν από έτοιμα assets που βρέθηκαν στο itch.io

Χάρτης:

![Map_prwtou_paradoteou](https://user-images.githubusercontent.com/117390085/202004835-0b1cd3f7-e13b-40c4-bbb4-fa46b7e80bd8.PNG)

Χαρακτήρας:

![arxikos_xarakthras](https://user-images.githubusercontent.com/117390085/201998603-7827f72a-c708-4c89-b0f9-f7e46d007f68.PNG)

Κώδικας μέχρι στιγμής:

![κωδικας](https://user-images.githubusercontent.com/117390085/201998691-1f23b24b-24e1-4300-84b4-d2b9ff1b4b77.PNG)

# 2nd Deliverable
 
 Για το 2ο παραδοτέο εμπλούτισα τη πρώτη πίστα του παιχνιδιού και πρόσθεσα διάφορα props μαζί με τους απαραίτητους colliders έτσι ώστε η πίστα να μοιάζει περισσότερο με ένα μπουντρούμι.
 
 
 ![1η πίστα](https://user-images.githubusercontent.com/117390085/208307679-e6b5746d-ff8c-4ca1-97e6-e8b2459dc8fa.PNG)
![1η πίστα_2](https://user-images.githubusercontent.com/117390085/208307683-2cb57f24-dc13-43c2-a3c0-136b7f807e30.PNG)
![1η πιστα_3](https://user-images.githubusercontent.com/117390085/208307684-464da7c0-d347-46b8-a446-f7ce2f1bcf71.PNG)

 
 
 Επιπλέον άλλαξα το main ήρωα και έβαλα άλλον ο οποίος ταιριάζει περισσότερο με το στυλ του παιχνιδιού.
 (πιθανότατα να αλλάξει πάλι μελλοντικά)
 
 
![2ndcharacter](https://user-images.githubusercontent.com/117390085/208307695-0abd2258-d357-4d55-9cd7-333eddb99a9c.PNG)

 
 
 Στη συνέχεια, αφού του έδωσα πόντους ζωής, δημιούργησα collectible potions τα οποία εκείνος μπορεί να πάρει μονάχα αν οι πόντοι ζωής του δεν είναι γεμάτοι.
 Τα potions αναπληρώνουν 1 πόντο ζωής το καθένα, είναι διασκορπιζμένα στο χάρτη (με μερικά από αυτά να είναι πιο δύσκολα αποκτήσιμα από άλλα) και εξαφανίζονται μετά τη  χρήση. Ο ήρωας τα αγνοεί αν οι πόντοι ζωής του είναι γεμάτοι.
 
  
 ![healthpot](https://user-images.githubusercontent.com/117390085/208307706-1ca3bfb2-6795-4426-b9f4-f0783675c5cc.PNG)



Στη συνέχεια όρισα ως damage zones καρφία στο πάτωμα τα οποία εκτείνονται σε όλη τη πίστα. Στη πίστα επίσης, υπάρχουν και wall mounted καρφιά τα οποία μπορούν να τραυματίσουν τον ήρωα καθώς και sawblades στα οποία θα προσθεθεί κίνηση μελλοντικά.
Τα swablades και τα καρφιά έχουν colliders και θα τραυματίσουν το χαρακτήρα για 1 πόντο ζωής αν εκείνος έρθει σε επαφή με οποιαδήποτε από αυτά. Ο ήρωας έχει invincibility frames και μπορεί να τρυματίζεται κάθε 2 δευτερόλεπτα από τη στιγμή που τραυματίζεται αρχικά. 

Sawblade

![sawblade](https://user-images.githubusercontent.com/117390085/207930857-65912576-40ab-4623-b81c-83ff0ae5c077.PNG)

Wall mounted spikes

![wallmounted](https://user-images.githubusercontent.com/117390085/207930922-f63ace40-83a0-4584-a0ed-43abe2231fb8.PNG)

Floor Spikes

![stopatwma](https://user-images.githubusercontent.com/117390085/207930963-297611a5-96b6-4fa1-acb1-4ba8c71a4043.PNG)


Μετά πρόσθεσα και τους εχθρούς του παιχνιδιού. Έχουν τη δυνατότητα να κινούνται κατα μήκος του άξονα x ή του άξονα y, ανάλογα με το που θέλω να τους τοποθετήσω. Υπάρχει δυνατότητα διαμόρφωσης της ταχύτητας τους, καθώς και της στιγμή που εκείνοι θα αλλάξουν μεριά κίνησης. Η επαφή του ήρωα με αυτούς τoν τραυματίζει για 1 πόντο ζωής. Οι ποντικοί έχουν και αυτοί πόντους ζωής οι οποίοι μπορούν να αυξομειωθούν (έχουν 4 πόντους ζωής στο παιχνίδι).


Axe rat

![axerat](https://user-images.githubusercontent.com/117390085/207932871-87e1e26d-9d62-4766-941a-86ae7f55c1d9.PNG)

Mage rat

![magerat](https://user-images.githubusercontent.com/117390085/207932897-0bd3e2f7-c7e2-4b47-9040-590884280977.PNG)


Στη συνέχεια έκανα animate τον ήρωα αλλά και τους εχθρούς χρησιμοποιώντας τον animator της unity. Ο ήρωας παίζει idle animations ανάλογα με το ποια μερία εκείνος κοιτάει (IdleLeft αν το τελευταίο πατημένο πλήκτρο ήταν το A). Επίσης έχει διαφορετικά animations ανάλογα με το ποιά μεριά κινείται. Ωστόσο, επειδή τα assets του ήρωα είναι φτιαγμένα για sidescroller, δεν είχα animation sheets για up and down movement γι'αυτό και έβαλα στη θέση τους τα animations για left and right movement. (Όταν βρω κατάλληλο χαρακτήρα θα προσθεθεί και το σωστό up and down movement). O ήρωας παίζει επίσης ένα hurt animation κάθε φορα που τραυματίζεται.

Το ίδιο έκανα και με τους εχθρούς. Οι ποντικάνθρωποι τώρα έχουν movement animations, death animations και παίζουν hurt animation κάθε φορά που τραυματίζονται απο τον ήρωα.


Επιπρόσθετα, o ήρωας έχει 2 επιθέσεις και μπορεί να επιτείθεται στους εχθρούς και από κοντά (melee range). 
Παντώντας το πλήκτρο J κάνει melee επίθεση και τραυματίζει τους εχθρούς για 2 πόντους ζωής ενώ με το πλήκτρο Κ πετάει ένα μικρό projectile που τους σκοτώνει αμέσως. Ο ήρωας παίζει διαφορετικά attack animations για κάθε μία από τις 2 επιθέσεις και το projectile εκτοξεύεται ανάλογα με το direction στο οποίο κινείται ή κοιτάει εκείνος (αν μετακινείται/κοιτάει προς τα δεξιά το projectile εκτοξεύται προς τα δεξιά). Αν το projectile χτυπήσει κάποιο άλλο object του παιχνιδιού, το projectile εξαφανίζεται.

Το projectile 

![projectile](https://user-images.githubusercontent.com/117390085/208307719-0069f7d9-d391-4f88-b1ce-aadd2b7f4078.PNG)


Τέλος, έφτιαξα και οριοθέτησα τη κάμερα (η οποία τώρα ακολουθεί τον ήρωα και δεν βγαίνει εκτός των "πλαϊνών" τοιχών του μπουντρουμιού) χρησιμοποιώντας το cinemachine της unity.


# 3rd Deliverable 

Για το 3ο παραδοτέο έκανα κάποιες αρκετά μεγάλες αλλαγές, ώστε να διαφοροποιήσω το παιχνίδι από το tutorial της ruby και να το διαμορφώσω έτσι όπως άρεσε σε εμένα. 
Σκοπός του παίκτης πλεόν είναι να σκοτώσει ένα επικίνδυνο πλάσμα.

Αρχικά πρόσθεσα UI στο οποίο φαίνεται το health bar και το εικονίδιο του παίκτη. Το health bar κατεβαίνει καθώς ο χαρακτήρας τραυματίζεται και παραμένει στη πάνω αριστερά γωνία ανεξάρτητα από τα screen dimensions του κάθε χρήστη. 

![healthbar](https://user-images.githubusercontent.com/117390085/212657098-fdaa6e7f-2da8-4dad-a688-d5984bbcf10a.PNG)

Aφαίρεσα τελείως το projectile γιατί θεώρησα ότι δεν ταίριαζε με το στυλ του παιχνιδιού. Ο ήρωας μπορεί να επιτείθεται στους εχθρούς μόνο από κοντά με το αριστερό κλικ. 

Στη συνέχεια πρόσθεσα ένα NPC στο διπλανό κελί από εκείνο του παίκτη, με το οποίο ο παίκτης μπορεί να αλληλεπιδράσει πατώντας το "E".
Το ΝPC έχει idle animation και δίνει πληροφορίες στο παίκτη σχετικά με το (current) plot.

Το npc έχει πολλαπλά lines of dialogue τα οποία ο παίκτης μπορεί να δει ένα-ένα πατώντας το "next" που υπάρχει στο dialogue box.
Μπορεί επίσης να κλείσει το dialogue box πατώντας ξανά το "Ε" χωρίς να χρειάζεται να διαβάσει όλα τα lines.

![dialogue](https://user-images.githubusercontent.com/117390085/212657461-d5a021da-3ec3-477e-9300-8c177a940cc1.PNG)

Έπειτα αφού διεύρυνα τη πίστα προσθέτωντας κι' άλλα δωμάτια έβαλα στο μεγαλύτερο από αυτά, ένα καινούργιο εχθρό.
Ο εχθρός αυτός είναι διαφορετικός απο τους υπόλοιπους καθώς κυνηγάει το παίκτη όταν εκείνος μπεί στο δωμάτιο και του επιτείθεται μόλις βρεθεί αρκετά κοντά του.
Η ζημιά που κάνει είναι μεγαλύτερη από τα υπόλοιπα damaging assets του παιχνιδιού.
Στο δωμάτιο υπάρχουν σκορπισμένα health potions για να βοηθήσουν το παίκτη σε περίπτωση που κοντεύει να πεθάνει.

![boss1](https://user-images.githubusercontent.com/117390085/212660403-f6260f2f-5f20-4be3-bf91-4bce7a9a0543.PNG)
![bossdamage](https://user-images.githubusercontent.com/117390085/212660420-21e11ec0-c3d1-4c08-aa32-8cdf3016ee72.PNG)


Υπάρχουν teleportation areas στις εισόδους/εξόδους πολλών δωματίων και ο παίκτης μπορεί να εισέρχεται σε εκείνα και να βγαίνει από αυτά πατώντας το "E" (εφόσον βρίσκεται στην είσοδο/έξοδο εκείνων.
Επιπλέον έχω προσθέσει ένα key system στο παιχνίδι. Υπάρχουν κλειστές πόρτες οι οποίες μπορούν να ανοίξουν μονάχα αν ο παίκτης έχει ένα κλειδί. Το κλειδί είναι collectable, υπάρχει μέσα στη πίστα και εμφανίζεται στο UI αφού το παίκτης το πάρει. Αυτή τη στιγμή στο παιχνίδι απαιτείται να βρεθεί το κλειδί από το παίκτη, ώστε να μπορέσει εκείνος να ανοίξει τη πύλη για να μπεί στο δωμάτιο του τέρατος.
Η πύλη θα ανοίξει αυτόματα αν ο παίκτης την πλησιάσει έχοντας ένα κλειδί.

Κλειδί κάτω

![key1](https://user-images.githubusercontent.com/117390085/212662990-540695ae-1a7e-4b3f-8b9d-eb42b9c7fc88.PNG)

Κλειδί αφού το πήρε ο παίκτης

![key2](https://user-images.githubusercontent.com/117390085/212663063-ac5b5496-e588-499f-a44d-8fc164b08391.PNG)

Επιπρόσθετα εμπλούτισα το παιχνίδι με particles σε μορφή αίματος τα οποία εμφανίζονται κάθε φόρά που ο παίκτης τραυματίζει κάποιον εχθρό.

![βλοοδ](https://user-images.githubusercontent.com/117390085/212675956-ac81aa9a-2238-4d43-b9c2-95bd79206501.PNG)

Επίσης, υπάρχουν sounds effects για όταν ο παίκτης τραυματίζει έναν εχθρό, όταν παίρνει ένα potion/κλειδί, όταν ένας εχθρός πεθαίνει καθώς και όταν το τέρας τον χτυπάει. Επέλεξα να βάλω και dungeon ambience αντί για μουσική το οποίο ξεκινάει να παίζει όταν ο παίκτης μπαίνει στο παιχνίδι.

Τέλος δημιούργησα scenes με buttons για το αρχικό μενού του παιχνιδιού, τα controls, το game over screen και το victory screen.
Στο μενού, υπάρχει επίσης και ένα μικρό κουμπί που οδηγεί το παίκτη σε ένα bonus χάρτη. (Αυτό το έβαλα μόνο για να γίνει την ολοκλήρωση του παραδοτέου επιλογής πίστας.)
Υπάρχει και camera transition effect από το menu στο παιχνίδι.

Main menu

![menu](https://user-images.githubusercontent.com/117390085/212666607-a606cb85-014c-4f96-9761-8684289a2674.PNG)

Controls

![controls](https://user-images.githubusercontent.com/117390085/212666648-19ccc247-368b-4753-aac1-7ef9af8f3803.PNG)

Game Over screen

![gameover](https://user-images.githubusercontent.com/117390085/212666682-6693631d-633e-4adf-a86d-3789b343c7ee.PNG)

Victory screen

![victory](https://user-images.githubusercontent.com/117390085/212666770-a6d049ed-1256-4d96-8b08-d1592af957e8.PNG)


# Conclusions

Μελλοντικές αλλαγές/Πράγματα που θα πρόσθετα:

-Διεύρυνση πίστας και plot

-Αλλαγή plot ώστε το παιχνίδι να μη τελειώνει όταν πεθαίνει το τέρας

-Να γίνουν τα δωμάτια scenes έτσι ώστε να προσθεθούν camera transitions από το ένα δωμάτιο στο άλλο

-Αυτόματη αλλαγη δωματίου αφού ο παίκτης μπεί στο κατάλληλο collider

-Enemy health bars

-Διαφορετικα κλειδιά για διαφορετικές πόρτες (Αυτή τη στιγμή το mechanic υπάρχει στο κώδικα αλλά δεν φαίνεται στο παιχνίδι. Ο παίκτης μπορεί να συλλέγει τα σωστά κλειδιά για τις σωστές πόρτες πχ. χρυσό κλειδί για πόρτες κελίων και ασημένιο για ξύλινες. Ωστόσο δεν έχει υλοποιηθεί καθώς δεν έχω βρει τρόπο να φτίαξω σωστά το UI)

-Περισσότερα NPCs με τους δικούς τους διαλόγους

-Player dialogue options

-Door animations

-Περισσότεροι/Διαφορετικοι εχθροί (διαφορετικά attacks patterns?)

-Breakable objects

-Animation για τα καρφιά ώστε να έχει χρόνο ο χαρακτήρας να τα διασχίσει χωρίς να τραυματιστεί



# Sources
-Ruby's adventure unity course: https://learn.unity.com/project/ruby-s-2d-rpg 

-Assets που χρησιμοποιήθηκαν: 
https://elthen.itch.io/pixel-art-dwarf-sprites(χαρακτήρας) 

https://anokolisa.itch.io/crawler-dungeon-prison (χάρτης)

https://elthen.itch.io/2d-pixel-art-ratfolk-mage-sprites (εχθρός)

https://elthen.itch.io/2d-pixel-art-ratfolk-axe-sprites (εχθρός)

https://elthen.itch.io/2d-pixel-art-shardsoul-slayer-sprites (τέρας)

https://elthen.itch.io/2d-pixel-art-archaeologist (NPC)

https://elthen.itch.io/2d-pixel-art-goblin-king-sprites
